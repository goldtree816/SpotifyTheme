{{ 'hero-banner.css' | asset_url | stylesheet_tag }}

<section class="hero-banner" style="--hero-bg: {{ section.settings.bg_color }}; --hero-text: {{ section.settings.text_color }}; --hero-cta-bg: {{ section.settings.cta_bg }}; --hero-cta-text: {{ section.settings.cta_text }}; --hero-cta-bg-hover: {{ section.settings.cta_bg_hover }};">
  <div class="hero-banner__content">
    {% if section.settings.title != blank %}
      <h1 class="hero-banner__title">{{ section.settings.title }}</h1>
    {% else %}
      <h1 class="hero-banner__title">Let Your Aura Flow Freely</h1>
    {% endif %}
    {% if section.settings.subtitle != blank %}
      <p class="hero-banner__subtitle">{{ section.settings.subtitle }}</p>
    {% else %}
      <p class="hero-banner__subtitle">Designed for movement, made with intention. GoldTree Fashion brings harmony between comfort and confidence, so you don't just wear style — you live it.</p>
    {% endif %}
    {% if section.settings.cta_label != blank and section.settings.cta_link != blank %}
      <a href="{{ section.settings.cta_link }}" class="hero-banner__cta">{{ section.settings.cta_label }}</a>
    {% else %}
      <a href="/collections/all" class="hero-banner__cta">Shop Collection</a>
    {% endif %}
  </div>
  
  <div class="hero-banner__media-container">
    <img class="hero-banner__fallback-img" src="{{ 'image.png' | asset_url }}" alt="AuraWear fallback image" loading="lazy" />
    {% if section.settings.video != blank %}
      <video class="hero-banner__media" preload="metadata" poster="{{ section.settings.image | image_url: width: 1200 }}">
        <source src="{{ section.settings.video }}" type="video/mp4">
      </video>
    {% elsif section.settings.image != blank %}
      <img class="hero-banner__media" src="{{ section.settings.image | image_url: width: 1600 }}" alt="" loading="lazy" />
    {% else %}
      <video class="hero-banner__media" preload="metadata">
        <source src="{{ 'hero.mp4' | asset_url }}" type="video/mp4">
      </video>
    {% endif %}
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const heroBanner = document.querySelector('.hero-banner');
  const video = heroBanner?.querySelector('.hero-banner__media');
  const fallbackImg = heroBanner?.querySelector('.hero-banner__fallback-img');
  if (video && video.tagName === 'VIDEO') {
    video.pause();
    video.currentTime = 0;
    heroBanner.addEventListener('mouseenter', () => {
      heroBanner.classList.add('hero-banner--playing');
      video.play();
    });
    heroBanner.addEventListener('mouseleave', () => {
      heroBanner.classList.remove('hero-banner--playing');
      video.pause();
      video.currentTime = 0;
    });
  }
});
</script>

{% schema %}
{
  "name": "Hero banner",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Background image"
    },
    {
      "type": "url",
      "id": "video",
      "label": "Background video (mp4 URL)",
      "info": "Overrides image if set."
    },
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Let Your Aura Flow Freely"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subheading",
      "default": "Designed for movement, made with intention. GoldTree Fashion brings harmony between comfort and confidence, so you don't just wear style — you live it."
    },
    {
      "type": "text",
      "id": "cta_label",
      "label": "Button label",
      "default": "Shop Collection"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "Button link",
      "default": "/collections/all"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "cta_bg",
      "label": "Button background",
      "default": "#CDAA7D"
    },
    {
      "type": "color",
      "id": "cta_bg_hover",
      "label": "Button background (hover)",
      "default": "#DB2955"
    },
    {
      "type": "color",
      "id": "cta_text",
      "label": "Button text color",
      "default": "#ffffff"
    }
  ],
  "presets": [
    {
      "name": "Hero banner"
    }
  ]
}
{% endschema %}
