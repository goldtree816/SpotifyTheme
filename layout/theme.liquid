<!doctype html>
<html lang="{{ request.locale.iso_code }}">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {{ content_for_header }}
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,500,600,700&display=swap" rel="stylesheet">
    <style>
      html, body {
        font-family: 'Roboto Condensed', Arial, sans-serif !important;
      }
    </style>
  </head>

  <body>
  
    <main>
      {{content_for_layout}}
    </main>

    {% render 'cart-drawer' %}

    {% if template.name == 'index' %}
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
    <script>
      (function() {
        var prefersReducedMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (prefersReducedMotion) return;
        if (!window.gsap) return;
        if (window.ScrollTrigger) gsap.registerPlugin(ScrollTrigger);

        var sections = Array.prototype.slice.call(document.querySelectorAll('main .shopify-section:not(.shopify-section-header)'));
        sections.forEach(function(s) {
          gsap.set(s, { opacity: 0, y: 40 });
          gsap.to(s, {
            opacity: 1,
            y: 0,
            duration: 0.8,
            ease: 'power2.out',
            scrollTrigger: {
              trigger: s,
              start: 'top 80%',
              toggleActions: 'play none none reverse'
            }
          });
        });

        var grids = document.querySelectorAll('.fc-grid');
        grids.forEach(function(grid) {
          var cards = grid.querySelectorAll('.fc-card');
          if (!cards.length) return;
          gsap.set(cards, { opacity: 0, y: 30 });
          gsap.to(cards, {
            opacity: 1,
            y: 0,
            duration: 0.6,
            ease: 'power2.out',
            stagger: 0.12,
            scrollTrigger: {
              trigger: grid,
              start: 'top 85%',
              toggleActions: 'play none none reverse'
            }
          });
        });

        var hero = document.querySelector('.hero-banner');
        if (hero) {
          var tl = gsap.timeline({ defaults: { ease: 'power2.out' } });
          var titleEl = hero.querySelector('.hero-banner__title');
          var subtitleEl = hero.querySelector('.hero-banner__subtitle');
          var ctaEl = hero.querySelector('.hero-banner__cta');
          if (titleEl) tl.from(titleEl, { opacity: 0, y: 20, duration: 0.6 });
          if (subtitleEl) tl.from(subtitleEl, { opacity: 0, y: 20, duration: 0.5 }, '-=0.3');
          if (ctaEl) tl.from(ctaEl, { opacity: 0, y: 20, duration: 0.5 }, '-=0.3');
        }
      })();
    </script>
    {% endif %}

    <script src="{{ 'header.js' | asset_url }}" defer></script>
  </body>
</html>

